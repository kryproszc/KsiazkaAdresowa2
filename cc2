try:
    ratio_df = calculate_ratios_vectorized(df)
    user_data.ratio_df_p.set(ratio_df)
    user_data.binary_df_p.set(create_binary_df(ratio_df))
except ValueError as e:
    user_data.modal_html.set(HTML(f"<b>Błąd (Paid):</b> {str(e)}"))
    show_info_modal(str(e), error=True)
    return


try:
    ratio_df_i = calculate_ratios_vectorized(df)
    user_data.ratio_df_i.set(ratio_df_i)
    user_data.binary_df_i.set(create_binary_df(ratio_df_i))
except ValueError as e:
    user_data.modal_html.set(HTML(f"<b>Błąd (Incurred):</b> {str(e)}"))
    show_info_modal(str(e), error=True)
    return
